# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: GigaChat –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã

## –ü—Ä–æ–±–ª–µ–º–∞

GigaChat –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Function Calling (–≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π), –ø–æ—ç—Ç–æ–º—É —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –Ω–µ –≤—ã–∑—ã–≤–∞–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –†–µ—à–µ–Ω–∏–µ

–ò–∑–º–µ–Ω—ë–Ω –ø–æ–¥—Ö–æ–¥ –Ω–∞ **Manual RAG** - –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤–æ–ø—Ä–æ—Å–∞ –≤ GigaChat.

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

**–î–æ (Function Calling - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):**
```
User: "–ß—Ç–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?"
  ‚Üì
GigaChat ‚Üí [–¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å SearchAsync] ‚Üí ‚ùå –ù–µ –≤—ã–∑—ã–≤–∞–µ—Ç
  ‚Üì
GigaChat: "–£—Ç–æ—á–Ω–∏—Ç–µ –≤–æ–ø—Ä–æ—Å" (–≤—ã–¥—É–º—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç)
```

**–ü–æ—Å–ª–µ (Manual RAG - —Ä–∞–±–æ—Ç–∞–µ—Ç):**
```
User: "–ß—Ç–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?"
  ‚Üì
App ‚Üí SearchAsync() ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ chunks
  ‚Üì
App ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  ‚Üì
GigaChat: "–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –µ—Å—Ç—å..." (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç)
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

1. **–£–±—Ä–∞–Ω Function Calling** - `chatOptions.Tools` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
2. **–î–æ–±–∞–≤–ª–µ–Ω —Ä—É—á–Ω–æ–π –ø–æ–∏—Å–∫** - –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ context
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ –∫–∞–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Ctrl+C)

### 2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
cd /Users/ivan/Work/GigaChat.SemanticKernel
dotnet build
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
```bash
cd ChatApp.Rag.GigaChat
ASPNETCORE_ENVIRONMENT=Development dotnet run
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5010

### 5. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã:

**–¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**
- "–ß—Ç–æ –µ—Å—Ç—å –≤ –º–æ–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?"
- "–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ GPS —á–∞—Å—ã"
- "–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –∞–ø—Ç–µ—á–∫—É –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è?"
- "–ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É GPS watch?"

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

**–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
info: ChatApp.Rag.GigaChat.Components.Pages.Chat.Chat[0]
      User question: –ß—Ç–æ –µ—Å—Ç—å –≤ –º–æ–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?
info: ChatApp.Rag.GigaChat.Services.SemanticSearch[0]
      Searching for: '–ß—Ç–æ –µ—Å—Ç—å –≤ –º–æ–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?', documentIdFilter: 'none', maxResults: 5
info: ChatApp.Rag.GigaChat.Services.SemanticSearch[0]
      Found 5 results for search
info: ChatApp.Rag.GigaChat.Services.SemanticSearch[0]
      Result: DocumentId=Example_GPS_Watch.pdf, Page=1, Text=GPS watch features...
```

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:**
- ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ PDF —Ñ–∞–π–ª–æ–≤
- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ñ–∞–π–ª—ã
- ‚úÖ –¶–∏—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `<citation filename='...' page_number='...'>...</citation>`

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫):**
- ‚ùå "–£—Ç–æ—á–Ω–∏—Ç–µ –≤–æ–ø—Ä–æ—Å"
- ‚ùå –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è –±–µ–∑ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚ùå "–ë–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º..."

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

- `ChatApp.Rag.GigaChat/Components/Pages/Chat/Chat.razor` - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Manual RAG
- `ChatApp.Rag.GigaChat/Services/SemanticSearch.cs` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `ChatApp.Rag.GigaChat/Services/Ingestion/DataIngestor.cs` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `ChatApp.Rag.GigaChat/appsettings.Development.json` - –≤–∫–ª—é—á–µ–Ω Debug –ª–æ–≥–∏

## –ü–æ—á–µ–º—É —ç—Ç–æ –ª—É—á—à–µ:

1. **–ù–∞–¥—ë–∂–Ω–µ–µ** - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Function Calling –≤ –º–æ–¥–µ–ª–∏
2. **–ü—Ä–æ–∑—Ä–∞—á–Ω–µ–µ** - –≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö —á—Ç–æ –∏—â–µ—Ç—Å—è –∏ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è
3. **–ë—ã—Å—Ç—Ä–µ–µ** - –ø–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –Ω–µ –∂–¥—ë–º —Ä–µ—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
4. **–†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π –º–æ–¥–µ–ª—å—é** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–¥–ª—è –±—É–¥—É—â–µ–≥–æ):

–ö–æ–≥–¥–∞ GigaChat –¥–æ–±–∞–≤–∏—Ç Function Calling:
- –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `chatOptions.Tools`
- –£–±—Ä–∞—Ç—å —Ä—É—á–Ω–æ–π –ø–æ–∏—Å–∫
- –ú–æ–¥–µ–ª—å —Å–∞–º–∞ –±—É–¥–µ—Ç —Ä–µ—à–∞—Ç—å, –∫–æ–≥–¥–∞ –∏—Å–∫–∞—Ç—å
