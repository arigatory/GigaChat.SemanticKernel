#!/bin/bash

echo "üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ RAG –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
echo "=============================="
echo ""

echo "1. –ü—Ä–æ–≤–µ—Ä–∫–∞ PDF —Ñ–∞–π–ª–æ–≤ –≤ Data/"
ls -lh ChatApp.Rag.GigaChat/wwwroot/Data/*.pdf
echo ""

echo "2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"
if [ -f "ChatApp.Rag.GigaChat/bin/Debug/net9.0/vector-store.db" ]; then
    ls -lh ChatApp.Rag.GigaChat/bin/Debug/net9.0/vector-store.db
    echo "‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
else
    echo "‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
fi
echo ""

echo "3. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å)"
read -p "–£–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å? (y/N): " answer
if [ "$answer" = "y" ] || [ "$answer" = "Y" ]; then
    rm -f ChatApp.Rag.GigaChat/bin/Debug/net9.0/vector-store.db*
    echo "‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∞"
fi
echo ""

echo "4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º"
echo "–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ - –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é PDF"
echo "–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏"
echo ""

cd ChatApp.Rag.GigaChat
dotnet run
